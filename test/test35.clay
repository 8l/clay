import paged;

main() {
    paged.initializePaging("paged.data");

    var v = Vector[paged.PagedPointer[Int]]();

    for (i in range(5)) {
        var n = (i+1)*100000;
        var p = paged.allocatePaged(Int, n);
        println("size = ", n, ", p.offset = ", p.offset);
        push(v, p);
    }

    for (p in v)
        paged.freePaged(p);

    paged.printPagingState();
}
