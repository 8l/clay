import platform.*;
import algorithms.*;
import vectors.*;
import printer.*;

import io.directories.*;

import test.*;

define testDirectoryListing(test):;

[when OSFamily == Unix]
overload testDirectoryListing(test) {
    var l = directoryListing("/");
    expectTrue(test, "contains /bin", in?(l, "bin"));
}

[when OSFamily == Windows]
overload testDirectoryListing(test) {
    var l = directoryListing("c:\\");
    expectTrue(test, "contains 'System Volume Information'", in?(l, "System Volume Information"));
}

main() = testMain(
    TestSuite("io.directories", array(
        TestCase("directoryListing", testDirectoryListing),
    )));
