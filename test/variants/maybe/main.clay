import maybe.*;

doIt(x) {
    println("done! x = ", x);
}

main() {
    var a = Maybe(35);
    var b = nothing(Int);

    println(Type(a));
    println(Type(b));

    println(nothing?(a));
    println(nothing?(b));

    println(variantAs(a, Int));

    maybe(a, doIt);
    maybe(b, doIt);

    try { require(a, doIt); } catch(ex: ValueMissing) { println("a missing!"); }
    try { require(b, doIt); } catch(ex: ValueMissing) { println("b missing!"); }

    println(variantTag(b));
}
