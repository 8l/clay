
printList(a) {
    var first = true;
    for (x in a) {
        if (not first)
            print(", ");
        first = false;
        print(x);
    }
    println();
}

testFind(x, a) {
    var i = find(x, a);
    if (i == end(a))
        println("not found ", x);
    else
        println("found ", x, " at ", (i - begin(a)));
}

testBinarySearch(x, a) {
    var lower, upper = ...binarySearch(x, a);
    if (lower == upper)
        print("not ");
    println("found ", x, ", range = [",
            lower-begin(a), ", ", upper-begin(a), "]");
}

main() {
    {
        // test enumerate
        var a = Vector([10, 20, 40, 80, 160]);
        for (i, x in enumerate(a))
            println(i, ") ", x);
    }

    {
        // test map, range, reduce
        var a = map(x => x+1, range(10));
        var s = reduce(add, 0, a);
        println(s);
    }

    {
        // test sum, product, min, max
        var a = Vector(range(1, 11));
        println(sum(a));
        println(product(a));
        swap(min(a), max(a));
        printList(a);
    }

    {
        // test find, binarySearch
        var a = Vector([1, 1, 2, 4, 7, 7, 7, 9, 15, 15, 19]);
        printList(a);
        testFind(10, a);
        testFind(1, a);
        testFind(19, a);
        testBinarySearch(10, a);
        testBinarySearch(1, a);
        testBinarySearch(19, a);
    }
}
