import test.*;

main() = testMain(
    TestSuite(
        "algorithms.strings", Tuple(
            TestCase("beginsWith?", test => {
                expectTrue(test, "string",
                    beginsWith?("beginning", "beginningmiddleend"));
                expectFalse(test, "match longer than sequence",
                    beginsWith?("beginningmiddleendlong", "beginningmiddleend"));
            }),
            TestCase("endsWith?", test => {
                expectTrue(test, "string",
                    endsWith?("end", "beginningmiddleend"));
                expectFalse(test, "match longer than sequence",
                    endsWith?("longbeginningmiddleend", "beginningmiddleend"));
            }),
            TestCase("split", test => {
                expectEqual(test, "test", split("a test string", " "[0])[1], "test");
            }),
            TestCase("trim", test => {
                expectEqual(test, "trim, string", trim(" \t\n", "   \t A string,\nthat\tneeds trimming. \n  \n "), "A string,\nthat\tneeds trimming.");
                expectEqual(test, "trim, lambda", trim(x => (x == "*"[0] or x == " "[0]), "*** message ***"), "message");
            }),
        )
    )
);
