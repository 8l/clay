import strings.(String?);

symbol stringTypeEncoding; // #stringTypeEncoding('S) = symbol representing encoding of 'S;
symbol stringBytes; // stringBytes(s:'S) = iterator over encoded bytes of s

#EncodedString?('T)
    = String?('T)
      and staticCallDefined?(stringTypeEncoding, 'T)
      and callDefined?(stringBytes, 'T);

overload #EncodedString?('T, 'E)
    = EncodedString?('T) and stringTypeEncoding('T) == 'E;
