import kernel.numbers.*;

external malloc(size:Int32):Pointer[Int8];
external free(ptr:Pointer[Int8]):Void;

[T]
allocateMemory(static T, count:Int32) {
    var ptr = malloc(TypeSize(T) * count);
    return Pointer[T](ptr);
}

freeMemory(ptr) {
    free(Pointer[Int8](ptr));
}
