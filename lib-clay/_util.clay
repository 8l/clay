import base;


//
// swap
//

def swap(ref a, ref b) {
    var temp = a;
    a = b;
    b = temp;
}


//
// Iterators
//

record Range[I] {
    first: I;
    last: I;
}

def range(n) {
    return Range(0, n);
}

overload iterator[I](ref r:Range[I]) {
    return r;
}

overload hasNext[I](ref a:Range[I]) {
    return lesser(a.first, a.last);
}

overload next[I](ref a:Range[I]) {
    var x = a.first;
    a.first = add(x, 1);
    return x;
}
